# Магазин магических товаров

## О проекте

Магазин магических товаров - это современный веб-сервис для продажи магических товаров и аксессуаров.
Проект построен на Laravel 11 с использованием современных технологий и практик.

## Технический стек

-   PHP 8.3
-   Laravel 11
-   Docker
-   MySQL 8.0
-   Filament (админ-панель)
-   Scribe (документация API)

## Установка и запуск

### Требования

-   Docker и Docker Compose
-   Git

### Шаги по установке

1. Клонируйте репозиторий:

    ```
    git clone git@github.com:username/shop.git
    cd shop
    ```

2. Скопируйте файл окружения:

    ```
    cp .env.example .env
    ```

3. Запустите Docker-контейнеры:

    ```
    docker-compose up -d
    ```

4. Веб-приложение будет доступно по адресу:
    ```
    http://localhost:8000
    ```

### API Документация

Документация API автоматически генерируется с помощью Scribe и доступна по адресу:

```
http://localhost:8000/docs
```

API документация организована в следующие группы для удобной навигации:

-   **Аутентификация**: регистрация и авторизация пользователей
-   **Категории**: просмотр категорий товаров
-   **Продукты**: работа с товарами, фильтрация и сортировка

Документация включает примеры запросов, подробные описания параметров и ответов, а также позволяет тестировать API прямо из браузера через функцию "Try It Out".

Для обновления документации после внесения изменений в API выполните:

```
docker exec shop_php php artisan scribe:generate
```

### Группировка эндпоинтов в API

При добавлении новых эндпоинтов в API, вы можете включать их в существующие группы или создавать новые с помощью аннотации `@group`.

Например:

```php
/**
 * @group Заказы
 * API для работы с заказами
 */
class OrderController extends ApiController
{
    // методы контроллера
}
```

Порядок групп можно настроить в файле `config/scribe.php` в секции `groups.order`.

### Админ-панель

Админ-панель построена на основе Filament и доступна по адресу:

```
http://localhost:8000/admin
```

## Разработка

### Генерация документации API

При запуске контейнеров документация API генерируется автоматически. Если вы внесли изменения в API и хотите обновить документацию, выполните:

```
docker exec shop_php php artisan scribe:generate
```

### Запуск тестов

```
docker exec shop_php php artisan test
```
