# Пользовательские обращения в поддержку

## Описание

Система обращений позволяет аутентифицированным пользователям создавать запросы в службу поддержки (темы/тикеты), отправлять сообщения и прикладывать файлы (например, скриншоты).

Это обеспечивает канал для решения проблем пользователей, связанных с заказами, доставкой или другими вопросами.

## API Endpoints

-   `GET /api/v1/topics` - получение списка своих тем обращений.
-   `GET /api/v1/topics/{id}` - получение информации о конкретной теме со всеми сообщениями.
-   `POST /api/v1/topics` - создание новой темы обращения.
-   `POST /api/v1/topics/{id}/messages` - добавление сообщения в существующую тему.

## Процесс создания темы

При создании новой темы (`POST /api/v1/topics`) пользователь должен передать:

-   `title` (string, required): Заголовок обращения.
-   `content` (string, required): Текст первого сообщения.
-   `attachments` (array of files, optional): Массив изображений-скриншотов.

Система создаст новую тему и привяжет к ней первое сообщение с вложениями.

## Процесс добавления сообщения

При добавлении сообщения в тему (`POST /api/v1/topics/{id}/messages`) пользователь должен передать:

-   `content` (string, required): Текст сообщения.
-   `attachments` (array of files, optional): Массив изображений-скриншотов.

Пользователь должен быть владельцем темы, чтобы иметь возможность добавлять сообщения.

## Модель данных (Topic)

-   `id` - уникальный идентификатор
-   `title` - название темы
-   `status` - статус (`new`, `resolved`, `requires_response`)
-   `user_id` - ID пользователя
-   `created_at` - дата создания
-   `updated_at` - дата обновления

## Модель данных (Message)

-   `id` - уникальный идентификатор
-   `content` - текст сообщения
-   `user_id` - ID автора сообщения
-   `topic_id` - ID темы
-   `created_at`, `updated_at`
-   `attachments` - массив прикрепленных файлов (медиа-объектов)
